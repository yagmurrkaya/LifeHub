<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:LifeHub.ViewModels.HabitTracker"
             x:Class="LifeHub.Views.HabitTracker.HabitAddPage"
             x:DataType="vm:HabitAddViewModel"
             Title="Yeni Alışkanlık"
             BackgroundColor="{AppThemeBinding Light={StaticResource PageBgLight}, Dark={StaticResource PageBgDark}}">

    <ScrollView>
        <VerticalStackLayout Padding="25" Spacing="20">

            <Border Style="{StaticResource WelcomeBorderStyle}" HeightRequest="80">
                <Label Text="Yeni Alışkanlık ✨" 
                       Style="{StaticResource MainTitleStyle}"
                       FontSize="24"
                       VerticalOptions="Center"/> 
            </Border>

            <Frame Style="{StaticResource ModuleCardStyle}">
                <VerticalStackLayout Spacing="15">
                    
                    <Entry Text="{Binding Name}" 
                           Placeholder="Alışkanlık adı (Örn: Kitap Oku)"
                           TextColor="{AppThemeBinding Light={StaticResource TextPrimaryLight}, Dark={StaticResource TextPrimaryDark}}"
                           PlaceholderColor="{AppThemeBinding Light={StaticResource TextSecondaryLight}, Dark={StaticResource TextSecondaryDark}}"
                           BackgroundColor="{AppThemeBinding Light={StaticResource White}, Dark={StaticResource SurfaceBgDark}}"/>

                    <Picker ItemsSource="{Binding MetricsList}" 
                            SelectedItem="{Binding SelectedMetric}"
                            Title="Metrik Seçin"
                            TextColor="{AppThemeBinding Light={StaticResource TextPrimaryLight}, Dark={StaticResource TextPrimaryDark}}"
                            TitleColor="{AppThemeBinding Light={StaticResource TextSecondaryLight}, Dark={StaticResource TextSecondaryDark}}"
                            BackgroundColor="{AppThemeBinding Light={StaticResource White}, Dark={StaticResource SurfaceBgDark}}"/>

                    <Entry Text="{Binding Goal}" 
                           Placeholder="Günlük hedefinizi (Örn: 5)"
                           Keyboard="Numeric"
                           TextColor="{AppThemeBinding Light={StaticResource TextPrimaryLight}, Dark={StaticResource TextPrimaryDark}}"
                           PlaceholderColor="{AppThemeBinding Light={StaticResource TextSecondaryLight}, Dark={StaticResource TextSecondaryDark}}"
                           BackgroundColor="{AppThemeBinding Light={StaticResource White}, Dark={StaticResource SurfaceBgDark}}"/>

                    <Grid ColumnDefinitions="*, *" ColumnSpacing="15" Margin="0,10,0,0">
                        <Button Grid.Column="0" 
                                Text="✅ Ekle" 
                                Command="{Binding SaveCommand}"
                                BackgroundColor="{StaticResource OrangeSecondary}" 
                                TextColor="White"
                                HeightRequest="50"
                                CornerRadius="10"
                                FontAttributes="Bold"/>

                        <Button Grid.Column="1" 
                                Text="❌ İptal" 
                                Command="{Binding CancelCommand}"
                                BackgroundColor="{StaticResource BrownAccent}" 
                                TextColor="White"
                                HeightRequest="50"
                                CornerRadius="10"
                                FontAttributes="Bold"/>
                    </Grid>

                </VerticalStackLayout>
            </Frame>

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>